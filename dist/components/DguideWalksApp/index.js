import{__assign as e}from"../../node_modules/tslib/tslib.es6.js";import t from"../LeftMenuBar/Credit/CreditMenuItem.js";import n from"../LeftMenuBar/Layer/LayerMenuItem.js";import r from"../LeftMenuBar/Legend/LegendMenuItem.js";import i from"../LeftMenuBar/MenuList/index.js";import o from"../LeftMenuBar/Weather/WeatherMenuItem.js";import a from"../MapViewContainer/index.js";import c,{useContext as m}from"react";import{DuiContext as u}from"../Context/index.js";import{JSDCContext as l}from"../../JSDC/Context/index.js";import{latLng as d}from"leaflet";import s from"../LeftMenuBar/Scene/SceneMenuItem.js";import f from"../LeftMenuBar/AboutWalk/AboutWalkMenuItem.js";var g=function(g){var h=g.mainMenuChildren,M=g.endMenuChildren,p=m(u),I=m(l),v=I.Jsdc,S=I.layerInfos;return c.createElement(a,{Jsdc:v,headerImgSrc:p.headerMBImgSrc,menuChildren:c.createElement(i,{title:p.sidebarTitle,subtitle:p.sidebarSubtitle,headerImg:p.headerDImgSrc,headerMBImg:p.headerMBImgSrc,endChildren:c.createElement(c.Fragment,null,c.createElement(f,e({imgSrc:p.aboutWalkImgSrc,title:p.sidebarTitle,subtitle:p.sidebarSubtitle,content:p.aboutWalkContent,active:"路線介紹"===p.activeMenuId},p.menuSwitcherAction("路線介紹"))),c.createElement(t,e({active:"關於圖台"===p.activeMenuId},p.menuSwitcherAction("關於圖台"),{description:p.credit})),M)},c.createElement(c.Fragment,null,c.createElement(n,e({layerInfos:S.map((function(e){return{id:e.id,type:e.description.type,name:e.description.name,show:e.show}})),onToggleShow:function(e,t){return v.Controller.get("Layer").getById(e).show=t},onOpacityChange:function(e,t){return v.Controller.get("Layer").getById(e).setOpacity(Number(1-t/100))},active:"地圖圖層"===p.activeMenuId},p.menuSwitcherAction("地圖圖層"))),c.createElement(s,e({onTarget:p.onSceneTargetClick,active:"景點介紹"===p.activeMenuId},p.menuSwitcherAction("景點介紹"))),p.weatherConfig.disabled||c.createElement(o,e({active:"氣象預測"===p.activeMenuId},p.menuSwitcherAction("氣象預測"),{locations:p.weatherConfig.locations,token:p.weatherConfig.token,onSelectLocation:function(e){var t,n=e[0],r=e[1];return null===(t=v.viewer)||void 0===t?void 0:t.flyTo(d(n,r),13)}})),c.createElement(r,e({active:"圖例說明"===p.activeMenuId},p.menuSwitcherAction("圖例說明"),{activeLegends:p.legendConfig.activeLegends})),h))})};export{g as default};
//# sourceMappingURL=index.js.map
