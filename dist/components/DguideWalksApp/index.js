import{__assign as e}from"../../node_modules/tslib/tslib.es6.js";import t from"../LeftMenuBar/Credit/CreditMenuItem.js";import n from"../LeftMenuBar/Layer/LayerMenuItem.js";import r from"../LeftMenuBar/Legend/LegendMenuItem.js";import i from"../LeftMenuBar/MenuList/index.js";import o from"../LeftMenuBar/Weather/WeatherMenuItem.js";import a from"../MapViewContainer/index.js";import m,{useContext as d}from"react";import{DuiContext as c}from"../Context/index.js";import{JSDCContext as l}from"../../JSDC/Context/index.js";import{latLng as u}from"leaflet";var s=function(s){var f=s.mainMenuChildren,g=s.endMenuChildren,h=d(c),p=d(l),M=p.Jsdc,C=p.layerInfos;return m.createElement(a,{Jsdc:M,headerImgSrc:h.headerMBImgSrc,menuChildren:m.createElement(i,{title:h.sidebarTitle,subtitle:h.sidebarSubtitle,headerImg:h.headerDImgSrc,headerMBImg:h.headerMBImgSrc,endChildren:m.createElement(m.Fragment,null,m.createElement(t,e({active:"關於圖台"===h.activeMenuId},h.menuSwitcherAction("關於圖台"),{description:h.credit})),g)},m.createElement(m.Fragment,null,m.createElement(n,e({layerInfos:C.map((function(e){return{id:e.id,type:e.description.type,name:e.description.name,show:e.show}})),onToggleShow:function(e,t){return M.Controller.get("Layer").getById(e).show=t},onOpacityChange:function(e,t){return M.Controller.get("Layer").getById(e).setOpacity(Number(1-t/100))},active:"地圖圖層"===h.activeMenuId},h.menuSwitcherAction("地圖圖層"))),h.weatherConfig.disabled||m.createElement(o,e({active:"氣象預測"===h.activeMenuId},h.menuSwitcherAction("氣象預測"),{locations:h.weatherConfig.locations,token:h.weatherConfig.token,onSelectLocation:function(e){var t,n=e[0],r=e[1];return null===(t=M.viewer)||void 0===t?void 0:t.flyTo(u(n,r),13)}})),h.legendConfig.disabled||m.createElement(r,e({active:"圖例說明"===h.activeMenuId},h.menuSwitcherAction("圖例說明"),{activeLegends:h.legendConfig.activeLegends})),f))})};export{s as default};
//# sourceMappingURL=index.js.map
