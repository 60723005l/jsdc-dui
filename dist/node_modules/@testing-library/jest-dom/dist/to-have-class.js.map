{"version":3,"file":"to-have-class.js","sources":["../../../../../node_modules/@testing-library/jest-dom/dist/to-have-class.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toHaveClass = toHaveClass;\n\nvar _utils = require(\"./utils\");\n\nfunction getExpectedClassNamesAndOptions(params) {\n  const lastParam = params.pop();\n  let expectedClassNames, options;\n\n  if (typeof lastParam === 'object') {\n    expectedClassNames = params;\n    options = lastParam;\n  } else {\n    expectedClassNames = params.concat(lastParam);\n    options = {\n      exact: false\n    };\n  }\n\n  return {\n    expectedClassNames,\n    options\n  };\n}\n\nfunction splitClassNames(str) {\n  if (!str) {\n    return [];\n  }\n\n  return str.split(/\\s+/).filter(s => s.length > 0);\n}\n\nfunction isSubset(subset, superset) {\n  return subset.every(item => superset.includes(item));\n}\n\nfunction toHaveClass(htmlElement, ...params) {\n  (0, _utils.checkHtmlElement)(htmlElement, toHaveClass, this);\n  const {\n    expectedClassNames,\n    options\n  } = getExpectedClassNamesAndOptions(params);\n  const received = splitClassNames(htmlElement.getAttribute('class'));\n  const expected = expectedClassNames.reduce((acc, className) => acc.concat(splitClassNames(className)), []);\n\n  if (options.exact) {\n    return {\n      pass: isSubset(expected, received) && expected.length === received.length,\n      message: () => {\n        const to = this.isNot ? 'not to' : 'to';\n        return (0, _utils.getMessage)(this, this.utils.matcherHint(`${this.isNot ? '.not' : ''}.toHaveClass`, 'element', this.utils.printExpected(expected.join(' '))), `Expected the element ${to} have EXACTLY defined classes`, expected.join(' '), 'Received', received.join(' '));\n      }\n    };\n  }\n\n  return expected.length > 0 ? {\n    pass: isSubset(expected, received),\n    message: () => {\n      const to = this.isNot ? 'not to' : 'to';\n      return (0, _utils.getMessage)(this, this.utils.matcherHint(`${this.isNot ? '.not' : ''}.toHaveClass`, 'element', this.utils.printExpected(expected.join(' '))), `Expected the element ${to} have class`, expected.join(' '), 'Received', received.join(' '));\n    }\n  } : {\n    pass: this.isNot ? received.length > 0 : false,\n    message: () => this.isNot ? (0, _utils.getMessage)(this, this.utils.matcherHint('.not.toHaveClass', 'element', ''), 'Expected the element to have classes', '(none)', 'Received', received.join(' ')) : [this.utils.matcherHint(`.toHaveClass`, 'element'), 'At least one expected class must be provided.'].join('\\n')\n  };\n}"],"names":["Object","defineProperty","toHaveClass_1","value","toHaveClass","htmlElement","params","_utils","checkHtmlElement","this","expectedClassNames","options","lastParam","pop","concat","exact","getExpectedClassNamesAndOptions","received","splitClassNames","getAttribute","expected","reduce","acc","className","pass","isSubset","length","message","to","isNot","getMessage","utils","matcherHint","printExpected","join","require$$0","str","split","filter","s","subset","superset","every","item","includes"],"mappings":"uNAEAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAEUD,EAAAE,YAoCnB,SAASA,EAAYC,KAAgBC,IACnC,EAAIC,EAAOC,kBAAkBH,EAAaD,EAAaK,MACvD,MAAMC,mBACJA,EAAkBC,QAClBA,GApCJ,SAAyCL,GACvC,MAAMM,EAAYN,EAAOO,MACzB,IAAIH,EAAoBC,EAEC,iBAAdC,GACTF,EAAqBJ,EACrBK,EAAUC,IAEVF,EAAqBJ,EAAOQ,OAAOF,GACnCD,EAAU,CACRI,OAAO,IAIX,MAAO,CACLL,mBAAAA,EACAC,QAAAA,GAqBEK,CAAgCV,GAC9BW,EAAWC,EAAgBb,EAAYc,aAAa,UACpDC,EAAWV,EAAmBW,QAAO,CAACC,EAAKC,IAAcD,EAAIR,OAAOI,EAAgBK,KAAa,IAEvG,GAAIZ,EAAQI,MACV,MAAO,CACLS,KAAMC,EAASL,EAAUH,IAAaG,EAASM,SAAWT,EAASS,OACnEC,QAAS,KACP,MAAMC,EAAKnB,KAAKoB,MAAQ,SAAW,KACnC,OAAO,EAAItB,EAAOuB,YAAYrB,KAAMA,KAAKsB,MAAMC,aAAevB,KAAKoB,MAAQ,OAAS,IAAzB,eAA2C,UAAWpB,KAAKsB,MAAME,cAAcb,EAASc,KAAK,OAAQ,wBAAwBN,iCAAmCR,EAASc,KAAK,KAAM,WAAYjB,EAASiB,KAAK,QAK/Q,OAAOd,EAASM,OAAS,EAAI,CAC3BF,KAAMC,EAASL,EAAUH,GACzBU,QAAS,KACP,MAAMC,EAAKnB,KAAKoB,MAAQ,SAAW,KACnC,OAAO,EAAItB,EAAOuB,YAAYrB,KAAMA,KAAKsB,MAAMC,aAAevB,KAAKoB,MAAQ,OAAS,IAAzB,eAA2C,UAAWpB,KAAKsB,MAAME,cAAcb,EAASc,KAAK,OAAQ,wBAAwBN,eAAiBR,EAASc,KAAK,KAAM,WAAYjB,EAASiB,KAAK,QAEvP,CACFV,OAAMf,KAAKoB,OAAQZ,EAASS,OAAS,EACrCC,QAAS,IAAMlB,KAAKoB,OAAQ,EAAItB,EAAOuB,YAAYrB,KAAMA,KAAKsB,MAAMC,YAAY,mBAAoB,UAAW,IAAK,uCAAwC,SAAU,WAAYf,EAASiB,KAAK,MAAQ,CAACzB,KAAKsB,MAAMC,YAAY,eAAgB,WAAY,iDAAiDE,KAAK,QA7DtT,IAAI3B,EAAS4B,EAsBb,SAASjB,EAAgBkB,GACvB,OAAKA,EAIEA,EAAIC,MAAM,OAAOC,QAAOC,GAAKA,EAAEb,OAAS,IAHtC,GAMX,SAASD,EAASe,EAAQC,GACxB,OAAOD,EAAOE,OAAMC,GAAQF,EAASG,SAASD"}