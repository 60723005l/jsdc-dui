{"version":3,"file":"react.esm.js","sources":["../../../../../../node_modules/@testing-library/react/dist/@testing-library/react.esm.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _asyncToGenerator from '@babel/runtime/helpers/esm/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { fireEvent as fireEvent$1, configure, prettyDOM, getQueriesForElement } from '@testing-library/dom';\nexport * from '@testing-library/dom';\nimport * as testUtils from 'react-dom/test-utils';\n\nvar reactAct = testUtils.act;\nvar actSupported = reactAct !== undefined; // act is supported react-dom@16.8.0\n// so for versions that don't have act from test utils\n// we do this little polyfill. No warnings, but it's\n// better than nothing.\n\nfunction actPolyfill(cb) {\n  ReactDOM.unstable_batchedUpdates(cb);\n  ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", null), document.createElement('div'));\n}\n\nvar act = reactAct || actPolyfill;\nvar youHaveBeenWarned = false;\nvar isAsyncActSupported = null;\n\nfunction asyncAct(cb) {\n  if (actSupported === true) {\n    if (isAsyncActSupported === null) {\n      return new Promise(function (resolve, reject) {\n        // patch console.error here\n        var originalConsoleError = console.error;\n\n        console.error = function error() {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          /* if console.error fired *with that specific message* */\n\n          /* istanbul ignore next */\n          var firstArgIsString = typeof args[0] === 'string';\n\n          if (firstArgIsString && args[0].indexOf('Warning: Do not await the result of calling ReactTestUtils.act') === 0) {\n            // v16.8.6\n            isAsyncActSupported = false;\n          } else if (firstArgIsString && args[0].indexOf('Warning: The callback passed to ReactTestUtils.act(...) function must not return anything') === 0) ; else {\n            originalConsoleError.apply(console, args);\n          }\n        };\n\n        var cbReturn, result;\n\n        try {\n          result = reactAct(function () {\n            cbReturn = cb();\n            return cbReturn;\n          });\n        } catch (err) {\n          console.error = originalConsoleError;\n          reject(err);\n          return;\n        }\n\n        result.then(function () {\n          console.error = originalConsoleError; // if it got here, it means async act is supported\n\n          isAsyncActSupported = true;\n          resolve();\n        }, function (err) {\n          console.error = originalConsoleError;\n          isAsyncActSupported = true;\n          reject(err);\n        }); // 16.8.6's act().then() doesn't call a resolve handler, so we need to manually flush here, sigh\n\n        if (isAsyncActSupported === false) {\n          console.error = originalConsoleError;\n          /* istanbul ignore next */\n\n          if (!youHaveBeenWarned) {\n            // if act is supported and async act isn't and they're trying to use async\n            // act, then they need to upgrade from 16.8 to 16.9.\n            // This is a seamless upgrade, so we'll add a warning\n            console.error(\"It looks like you're using a version of react-dom that supports the \\\"act\\\" function, but not an awaitable version of \\\"act\\\" which you will need. Please upgrade to at least react-dom@16.9.0 to remove this warning.\");\n            youHaveBeenWarned = true;\n          }\n\n          cbReturn.then(function () {\n            // a faux-version.\n            // todo - copy https://github.com/facebook/react/blob/master/packages/shared/enqueueTask.js\n            Promise.resolve().then(function () {\n              // use sync act to flush effects\n              act(function () {});\n              resolve();\n            });\n          }, reject);\n        }\n      });\n    } else if (isAsyncActSupported === false) {\n      // use the polyfill directly\n      var _result;\n\n      act(function () {\n        _result = cb();\n      });\n      return _result.then(function () {\n        return Promise.resolve().then(function () {\n          // use sync act to flush effects\n          act(function () {});\n        });\n      });\n    } // all good! regular act\n\n\n    return act(cb);\n  } // use the polyfill\n\n\n  var result;\n  act(function () {\n    result = cb();\n  });\n  return result.then(function () {\n    return Promise.resolve().then(function () {\n      // use sync act to flush effects\n      act(function () {});\n    });\n  });\n}\n/* eslint no-console:0 */\n\n// dom-testing-library's version of fireEvent. The reason\n// we make this distinction however is because we have\n// a few extra events that work a bit differently\n\nvar fireEvent = function fireEvent() {\n  return fireEvent$1.apply(void 0, arguments);\n};\n\nObject.keys(fireEvent$1).forEach(function (key) {\n  fireEvent[key] = function () {\n    return fireEvent$1[key].apply(fireEvent$1, arguments);\n  };\n}); // React event system tracks native mouseOver/mouseOut events for\n// running onMouseEnter/onMouseLeave handlers\n// @link https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/events/EnterLeaveEventPlugin.js#L24-L31\n\nvar mouseEnter = fireEvent.mouseEnter;\nvar mouseLeave = fireEvent.mouseLeave;\n\nfireEvent.mouseEnter = function () {\n  mouseEnter.apply(void 0, arguments);\n  return fireEvent.mouseOver.apply(fireEvent, arguments);\n};\n\nfireEvent.mouseLeave = function () {\n  mouseLeave.apply(void 0, arguments);\n  return fireEvent.mouseOut.apply(fireEvent, arguments);\n};\n\nvar pointerEnter = fireEvent.pointerEnter;\nvar pointerLeave = fireEvent.pointerLeave;\n\nfireEvent.pointerEnter = function () {\n  pointerEnter.apply(void 0, arguments);\n  return fireEvent.pointerOver.apply(fireEvent, arguments);\n};\n\nfireEvent.pointerLeave = function () {\n  pointerLeave.apply(void 0, arguments);\n  return fireEvent.pointerOut.apply(fireEvent, arguments);\n};\n\nvar select = fireEvent.select;\n\nfireEvent.select = function (node, init) {\n  select(node, init); // React tracks this event only on focused inputs\n\n  node.focus(); // React creates this event when one of the following native events happens\n  // - contextMenu\n  // - mouseUp\n  // - dragEnd\n  // - keyUp\n  // - keyDown\n  // so we can use any here\n  // @link https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/events/SelectEventPlugin.js#L203-L224\n\n  fireEvent.keyUp(node, init);\n}; // React event system tracks native focusout/focusin events for\n// running blur/focus handlers\n// @link https://github.com/facebook/react/pull/19186\n\n\nvar blur = fireEvent.blur;\nvar focus = fireEvent.focus;\n\nfireEvent.blur = function () {\n  fireEvent.focusOut.apply(fireEvent, arguments);\n  return blur.apply(void 0, arguments);\n};\n\nfireEvent.focus = function () {\n  fireEvent.focusIn.apply(fireEvent, arguments);\n  return focus.apply(void 0, arguments);\n};\n\nconfigure({\n  asyncWrapper: function () {\n    var _asyncWrapper = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(cb) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return asyncAct( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return cb();\n\n                      case 2:\n                        result = _context.sent;\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })));\n\n            case 2:\n              return _context2.abrupt(\"return\", result);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function asyncWrapper(_x) {\n      return _asyncWrapper.apply(this, arguments);\n    }\n\n    return asyncWrapper;\n  }(),\n  eventWrapper: function eventWrapper(cb) {\n    var result;\n    act(function () {\n      result = cb();\n    });\n    return result;\n  }\n});\nvar mountedContainers = new Set();\n\nfunction render(ui, _temp) {\n  var _ref2 = _temp === void 0 ? {} : _temp,\n      container = _ref2.container,\n      _ref2$baseElement = _ref2.baseElement,\n      baseElement = _ref2$baseElement === void 0 ? container : _ref2$baseElement,\n      queries = _ref2.queries,\n      _ref2$hydrate = _ref2.hydrate,\n      hydrate = _ref2$hydrate === void 0 ? false : _ref2$hydrate,\n      WrapperComponent = _ref2.wrapper;\n\n  if (!baseElement) {\n    // default to document.body instead of documentElement to avoid output of potentially-large\n    // head elements (such as JSS style blocks) in debug output\n    baseElement = document.body;\n  }\n\n  if (!container) {\n    container = baseElement.appendChild(document.createElement('div'));\n  } // we'll add it to the mounted containers regardless of whether it's actually\n  // added to document.body so the cleanup method works regardless of whether\n  // they're passing us a custom container or not.\n\n\n  mountedContainers.add(container);\n\n  var wrapUiIfNeeded = function wrapUiIfNeeded(innerElement) {\n    return WrapperComponent ? /*#__PURE__*/React.createElement(WrapperComponent, null, innerElement) : innerElement;\n  };\n\n  act(function () {\n    if (hydrate) {\n      ReactDOM.hydrate(wrapUiIfNeeded(ui), container);\n    } else {\n      ReactDOM.render(wrapUiIfNeeded(ui), container);\n    }\n  });\n  return _extends({\n    container: container,\n    baseElement: baseElement,\n    debug: function debug(el, maxLength, options) {\n      if (el === void 0) {\n        el = baseElement;\n      }\n\n      return Array.isArray(el) ? // eslint-disable-next-line no-console\n      el.forEach(function (e) {\n        return console.log(prettyDOM(e, maxLength, options));\n      }) : // eslint-disable-next-line no-console,\n      console.log(prettyDOM(el, maxLength, options));\n    },\n    unmount: function unmount() {\n      act(function () {\n        ReactDOM.unmountComponentAtNode(container);\n      });\n    },\n    rerender: function rerender(rerenderUi) {\n      render(wrapUiIfNeeded(rerenderUi), {\n        container: container,\n        baseElement: baseElement\n      }); // Intentionally do not return anything to avoid unnecessarily complicating the API.\n      // folks can use all the same utilities we return in the first place that are bound to the container\n    },\n    asFragment: function asFragment() {\n      /* istanbul ignore else (old jsdom limitation) */\n      if (typeof document.createRange === 'function') {\n        return document.createRange().createContextualFragment(container.innerHTML);\n      } else {\n        var template = document.createElement('template');\n        template.innerHTML = container.innerHTML;\n        return template.content;\n      }\n    }\n  }, getQueriesForElement(baseElement, queries));\n}\n\nfunction cleanup() {\n  mountedContainers.forEach(cleanupAtContainer);\n} // maybe one day we'll expose this (perhaps even as a utility returned by render).\n// but let's wait until someone asks for it.\n\n\nfunction cleanupAtContainer(container) {\n  act(function () {\n    ReactDOM.unmountComponentAtNode(container);\n  });\n\n  if (container.parentNode === document.body) {\n    document.body.removeChild(container);\n  }\n\n  mountedContainers.delete(container);\n} // just re-export everything from dom-testing-library\n// thing for people using react-dom@16.8.0. Anyone else doesn't need it and\n// people should just upgrade anyway.\n\n/* eslint func-name-matching:0 */\n\nvar _process$env;\n// or teardown then we'll automatically run cleanup afterEach test\n// this ensures that tests run in isolation from each other\n// if you don't like this then either import the `pure` module\n// or set the RTL_SKIP_AUTO_CLEANUP env variable to 'true'.\n\nif (typeof process === 'undefined' || !((_process$env = process.env) != null && _process$env.RTL_SKIP_AUTO_CLEANUP)) {\n  // ignore teardown() in code coverage because Jest does not support it\n\n  /* istanbul ignore else */\n  if (typeof afterEach === 'function') {\n    afterEach(function () {\n      cleanup();\n    });\n  } else if (typeof teardown === 'function') {\n    // Block is guarded by `typeof` check.\n    // eslint does not support `typeof` guards.\n    // eslint-disable-next-line no-undef\n    teardown(function () {\n      cleanup();\n    });\n  }\n}\n\nexport { act, cleanup, fireEvent, render };\n"],"names":["reactAct","testUtils.act","actSupported","undefined","_asyncWrapper","act","cb","ReactDOM","unstable_batchedUpdates","render","React","createElement","document","youHaveBeenWarned","isAsyncActSupported","asyncAct","_result","result","Promise","resolve","reject","cbReturn","originalConsoleError","console","error","_len","arguments","length","args","Array","_key","firstArgIsString","indexOf","apply","err","then","Object","keys","fireEvent$1","forEach","key","configure","asyncWrapper","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_context2","prev","next","_callee","_context","sent","stop","abrupt","_x","this","eventWrapper","_process$env","mountedContainers","Set","ui","_temp","_ref2","container","_ref2$baseElement","baseElement","queries","_ref2$hydrate","hydrate","WrapperComponent","wrapper","body","appendChild","add","wrapUiIfNeeded","innerElement","_extends","debug","el","maxLength","options","isArray","e","log","prettyDOM","unmount","unmountComponentAtNode","rerender","rerenderUi","asFragment","createRange","createContextualFragment","innerHTML","template","content","getQueriesForElement","cleanup","cleanupAtContainer","parentNode","removeChild","delete","process","env","RTL_SKIP_AUTO_CLEANUP","afterEach","teardown"],"mappings":"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"}