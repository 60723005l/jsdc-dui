{"version":3,"file":"ReactElement.js","sources":["../../../../../node_modules/pretty-format/build/plugins/ReactElement.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.test = exports.serialize = exports.default = void 0;\n\nvar ReactIs = _interopRequireWildcard(require('react-is'));\n\nvar _markup = require('./lib/markup');\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== 'function') return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    return {default: obj};\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor =\n    Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== 'default' && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor\n        ? Object.getOwnPropertyDescriptor(obj, key)\n        : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n// Given element.props.children, or subtree during recursive traversal,\n// return flattened array of children.\nconst getChildren = (arg, children = []) => {\n  if (Array.isArray(arg)) {\n    arg.forEach(item => {\n      getChildren(item, children);\n    });\n  } else if (arg != null && arg !== false) {\n    children.push(arg);\n  }\n\n  return children;\n};\n\nconst getType = element => {\n  const type = element.type;\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || 'Unknown';\n  }\n\n  if (ReactIs.isFragment(element)) {\n    return 'React.Fragment';\n  }\n\n  if (ReactIs.isSuspense(element)) {\n    return 'React.Suspense';\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (ReactIs.isContextProvider(element)) {\n      return 'Context.Provider';\n    }\n\n    if (ReactIs.isContextConsumer(element)) {\n      return 'Context.Consumer';\n    }\n\n    if (ReactIs.isForwardRef(element)) {\n      if (type.displayName) {\n        return type.displayName;\n      }\n\n      const functionName = type.render.displayName || type.render.name || '';\n      return functionName !== ''\n        ? 'ForwardRef(' + functionName + ')'\n        : 'ForwardRef';\n    }\n\n    if (ReactIs.isMemo(element)) {\n      const functionName =\n        type.displayName || type.type.displayName || type.type.name || '';\n      return functionName !== '' ? 'Memo(' + functionName + ')' : 'Memo';\n    }\n  }\n\n  return 'UNDEFINED';\n};\n\nconst getPropKeys = element => {\n  const {props} = element;\n  return Object.keys(props)\n    .filter(key => key !== 'children' && props[key] !== undefined)\n    .sort();\n};\n\nconst serialize = (element, config, indentation, depth, refs, printer) =>\n  ++depth > config.maxDepth\n    ? (0, _markup.printElementAsLeaf)(getType(element), config)\n    : (0, _markup.printElement)(\n        getType(element),\n        (0, _markup.printProps)(\n          getPropKeys(element),\n          element.props,\n          config,\n          indentation + config.indent,\n          depth,\n          refs,\n          printer\n        ),\n        (0, _markup.printChildren)(\n          getChildren(element.props.children),\n          config,\n          indentation + config.indent,\n          depth,\n          refs,\n          printer\n        ),\n        config,\n        indentation\n      );\n\nexports.serialize = serialize;\n\nconst test = val => val != null && ReactIs.isElement(val);\n\nexports.test = test;\nconst plugin = {\n  serialize,\n  test\n};\nvar _default = plugin;\nexports.default = _default;\n"],"names":["Object","defineProperty","ReactElement","value","test","serialize","ReactIs","obj","nodeInterop","__esModule","default","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","require$$0","_markup","require$$1","WeakMap","cacheBabelInterop","cacheNodeInterop","getChildren","arg","children","Array","isArray","forEach","item","push","getType","element","type","displayName","name","isFragment","isSuspense","isContextProvider","isContextConsumer","isForwardRef","functionName","render","isMemo","config","indentation","depth","refs","printer","maxDepth","printElementAsLeaf","printElement","printProps","props","keys","filter","undefined","sort","getPropKeys","indent","printChildren","val","isElement","_default"],"mappings":"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"}