var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=function(n,i){i=i||{};var s=1,a=1;function u(r){var n=r.match(/\n/g);n&&(s+=n.length);var e=r.lastIndexOf("\n");a=~e?r.length-e:a+r.length}function o(){var r={line:s,column:a};return function(n){return n.position=new c(r),h(),n}}function c(r){this.start=r,this.end={line:s,column:a},this.source=i.source}c.prototype.content=n;var f=[];function p(r){var e=new Error(i.source+":"+s+":"+a+": "+r);if(e.reason=r,e.filename=i.source,e.line=s,e.column=a,e.source=n,!i.silent)throw e;f.push(e)}function m(){return g(/^{\s*/)}function v(){return g(/^}/)}function l(){var r,e=[];for(h(),y(e);n.length&&"}"!=n.charAt(0)&&(r=C()||I());)!1!==r&&(e.push(r),y(e));return e}function g(r){var e=r.exec(n);if(e){var t=e[0];return u(t),n=n.slice(t.length),e}}function h(){g(/^\s*/)}function y(r){var n;for(r=r||[];n=d();)!1!==n&&r.push(n);return r}function d(){var r=o();if("/"==n.charAt(0)&&"*"==n.charAt(1)){for(var e=2;""!=n.charAt(e)&&("*"!=n.charAt(e)||"/"!=n.charAt(e+1));)++e;if(e+=2,""===n.charAt(e-1))return p("End of comment missing");var t=n.slice(2,e-2);return a+=2,u(t),n=n.slice(e),a+=2,r({type:"comment",comment:t})}}function w(){var r=g(/^([^{]+)/);if(r)return e(r[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(r){return r.replace(/,/g,"â€Œ")})).split(/\s*(?![^(]*\)),\s*/).map((function(r){return r.replace(/\u200C/g,",")}))}function A(){var n=o(),t=g(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=e(t[0]),!g(/^:\s*/))return p("property missing ':'");var i=g(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),s=n({type:"declaration",property:t.replace(r,""),value:i?e(i[0]).replace(r,""):""});return g(/^[;\s]*/),s}}function k(){var r,n=[];if(!m())return p("missing '{'");for(y(n);r=A();)!1!==r&&(n.push(r),y(n));return v()?n:p("missing '}'")}function b(){for(var r,n=[],e=o();r=g(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)n.push(r[1]),g(/^,\s*/);if(n.length)return e({type:"keyframe",values:n,declarations:k()})}var E,x=O("import"),j=O("charset"),z=O("namespace");function O(r){var n=new RegExp("^@"+r+"\\s*([^;]+);");return function(){var e=o(),t=g(n);if(t){var i={type:r};return i[r]=t[1].trim(),e(i)}}}function C(){if("@"==n[0])return function(){var r=o();if(n=g(/^@([-\w]+)?keyframes\s*/)){var n,e=n[1];if(!(n=g(/^([-\w]+)\s*/)))return p("@keyframes missing name");var t,i=n[1];if(!m())return p("@keyframes missing '{'");for(var s=y();t=b();)s.push(t),s=s.concat(y());return v()?r({type:"keyframes",name:i,vendor:e,keyframes:s}):p("@keyframes missing '}'")}}()||function(){var r=o(),n=g(/^@media *([^{]+)/);if(n){var t=e(n[1]);if(!m())return p("@media missing '{'");var i=y().concat(l());return v()?r({type:"media",media:t,rules:i}):p("@media missing '}'")}}()||function(){var r=o(),n=g(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(n)return r({type:"custom-media",name:e(n[1]),media:e(n[2])})}()||function(){var r=o(),n=g(/^@supports *([^{]+)/);if(n){var t=e(n[1]);if(!m())return p("@supports missing '{'");var i=y().concat(l());return v()?r({type:"supports",supports:t,rules:i}):p("@supports missing '}'")}}()||x()||j()||z()||function(){var r=o(),n=g(/^@([-\w]+)?document *([^{]+)/);if(n){var t=e(n[1]),i=e(n[2]);if(!m())return p("@document missing '{'");var s=y().concat(l());return v()?r({type:"document",document:i,vendor:t,rules:s}):p("@document missing '}'")}}()||function(){var r=o();if(g(/^@page */)){var n=w()||[];if(!m())return p("@page missing '{'");for(var e,t=y();e=A();)t.push(e),t=t.concat(y());return v()?r({type:"page",selectors:n,declarations:t}):p("@page missing '}'")}}()||function(){var r=o();if(g(/^@host\s*/)){if(!m())return p("@host missing '{'");var n=y().concat(l());return v()?r({type:"host",rules:n}):p("@host missing '}'")}}()||function(){var r=o();if(g(/^@font-face\s*/)){if(!m())return p("@font-face missing '{'");for(var n,e=y();n=A();)e.push(n),e=e.concat(y());return v()?r({type:"font-face",declarations:e}):p("@font-face missing '}'")}}()}function I(){var r=o(),n=w();return n?(y(),r({type:"rule",selectors:n,declarations:k()})):p("selector missing")}return t((E=l(),{type:"stylesheet",stylesheet:{source:i.source,rules:E,parsingErrors:f}}))};function e(r){return r?r.replace(/^\s+|\s+$/g,""):""}function t(r,n){var e=r&&"string"==typeof r.type,i=e?r:n;for(var s in r){var a=r[s];Array.isArray(a)?a.forEach((function(r){t(r,i)})):a&&"object"==typeof a&&t(a,i)}return e&&Object.defineProperty(r,"parent",{configurable:!0,writable:!0,enumerable:!1,value:n||null}),r}export{n as default};
//# sourceMappingURL=index.js.map
